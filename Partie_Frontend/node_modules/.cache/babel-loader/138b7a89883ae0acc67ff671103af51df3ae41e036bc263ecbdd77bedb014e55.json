{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nimport { jwtDecode } from 'jwt-decode';\nimport { Fragment as _Fragment, jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PageAdmin() {\n  _s();\n  const [Role, setRole] = useState('');\n  const UserListe = async () => {\n    const value = Cookies.get('token');\n    const tokenData = JSON.parse(value);\n    const decodedToken = jwtDecode(tokenData);\n    if (value) {\n      const tokenData = JSON.parse(value);\n      const decodedToken = jwtDecode(tokenData);\n      setUserid(decodedToken.id);\n      setStockagedisponible(decodedToken.stockagedisponible);\n      setQuantitestockage(decodedToken.quantiteStockage);\n      setToken(tokenData);\n      try {\n        const response = await axios.post('http://localhost:8000/file/show', {\n          token: tokenData,\n          userID: decodedToken.id\n        });\n        if (response.status === 200) {\n          setFiles(response.data.files);\n        } else {\n          setDnied(true);\n        }\n      } catch (error) {\n        console.error('Une erreur s\\'est produite lors de la récupération du fichier :', error);\n      }\n    } else {\n      window.location.href = '/Denied';\n    }\n  };\n  useEffect(() => {\n    UserListe();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n}\n_s(PageAdmin, \"8qfLh0Kewx4eERDlFKKcQ+6G394=\");\n_c = PageAdmin;\nexport default PageAdmin;\nvar _c;\n$RefreshReg$(_c, \"PageAdmin\");","map":{"version":3,"names":["React","useState","useEffect","axios","Cookies","jwtDecode","Fragment","_Fragment","jsxDEV","_jsxDEV","PageAdmin","_s","Role","setRole","UserListe","value","get","tokenData","JSON","parse","decodedToken","setUserid","id","setStockagedisponible","stockagedisponible","setQuantitestockage","quantiteStockage","setToken","response","post","token","userID","status","setFiles","data","files","setDnied","error","console","window","location","href","_c","$RefreshReg$"],"sources":["C:/Users/yujir/Documents/Projet annuel/Projjet_Annuel_Perso/partiefront/src/components/PageAdmin.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Cookies from 'js-cookie';\r\nimport { jwtDecode } from 'jwt-decode';\r\n\r\nfunction PageAdmin() {\r\n \r\n    const [Role, setRole] = useState('');\r\n\r\n  const UserListe = async () => {\r\n    const value = Cookies.get('token');\r\n    const tokenData = JSON.parse(value);\r\n    const decodedToken = jwtDecode(tokenData);\r\n\r\n    if (value) {\r\n      const tokenData = JSON.parse(value);\r\n      const decodedToken = jwtDecode(tokenData);\r\n\r\n      setUserid(decodedToken.id);\r\n      setStockagedisponible(decodedToken.stockagedisponible);\r\n      setQuantitestockage(decodedToken.quantiteStockage);\r\n      setToken(tokenData);\r\n\r\n      try {\r\n        const response = await axios.post('http://localhost:8000/file/show', {\r\n          token: tokenData,\r\n          userID: decodedToken.id,\r\n        });\r\n\r\n        if (response.status === 200) {\r\n          setFiles(response.data.files);\r\n        } else {\r\n          setDnied(true);\r\n        }\r\n      } catch (error) {\r\n        console.error('Une erreur s\\'est produite lors de la récupération du fichier :', error);\r\n      }\r\n    } else {\r\n      window.location.href = '/Denied';\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    UserListe();\r\n  }, []);\r\n\r\n\r\n\r\n  \r\n  return (\r\n    <>\r\n  \r\n    </>\r\n  );\r\n}\r\n\r\nexport default PageAdmin;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,OAAO,MAAM,WAAW;AAC/B,SAASC,SAAS,QAAQ,YAAY;AAAC,SAAAC,QAAA,IAAAC,SAAA,EAAAC,MAAA,IAAAC,OAAA;AAEvC,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EAEjB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAEtC,MAAMa,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5B,MAAMC,KAAK,GAAGX,OAAO,CAACY,GAAG,CAAC,OAAO,CAAC;IAClC,MAAMC,SAAS,GAAGC,IAAI,CAACC,KAAK,CAACJ,KAAK,CAAC;IACnC,MAAMK,YAAY,GAAGf,SAAS,CAACY,SAAS,CAAC;IAEzC,IAAIF,KAAK,EAAE;MACT,MAAME,SAAS,GAAGC,IAAI,CAACC,KAAK,CAACJ,KAAK,CAAC;MACnC,MAAMK,YAAY,GAAGf,SAAS,CAACY,SAAS,CAAC;MAEzCI,SAAS,CAACD,YAAY,CAACE,EAAE,CAAC;MAC1BC,qBAAqB,CAACH,YAAY,CAACI,kBAAkB,CAAC;MACtDC,mBAAmB,CAACL,YAAY,CAACM,gBAAgB,CAAC;MAClDC,QAAQ,CAACV,SAAS,CAAC;MAEnB,IAAI;QACF,MAAMW,QAAQ,GAAG,MAAMzB,KAAK,CAAC0B,IAAI,CAAC,iCAAiC,EAAE;UACnEC,KAAK,EAAEb,SAAS;UAChBc,MAAM,EAAEX,YAAY,CAACE;QACvB,CAAC,CAAC;QAEF,IAAIM,QAAQ,CAACI,MAAM,KAAK,GAAG,EAAE;UAC3BC,QAAQ,CAACL,QAAQ,CAACM,IAAI,CAACC,KAAK,CAAC;QAC/B,CAAC,MAAM;UACLC,QAAQ,CAAC,IAAI,CAAC;QAChB;MACF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,iEAAiE,EAAEA,KAAK,CAAC;MACzF;IACF,CAAC,MAAM;MACLE,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,SAAS;IAClC;EACF,CAAC;EAEDvC,SAAS,CAAC,MAAM;IACdY,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,EAAE,CAAC;EAKN,oBACEL,OAAA,CAAAF,SAAA,mBAEE,CAAC;AAEP;AAACI,EAAA,CAjDQD,SAAS;AAAAgC,EAAA,GAAThC,SAAS;AAmDlB,eAAeA,SAAS;AAAC,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}